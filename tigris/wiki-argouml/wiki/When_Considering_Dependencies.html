<h1><small>From the ArgoUML wiki at argouml.tigris.org.</small><br />         Wiki: When Considering Dependencies
    </h1>
</div>
 
 
 
        
                 
                 
           
    
  

 
 





<div class="wiki">




<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line874">In the ArgoUML project we use several third-party libraries. These libraries (referred to as dependencies below) are an important part of ArgoUML and must be handled carefully to ensure ArgoUML's continuing success. <span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line874">The following list should be checked for any proposed new library.  Where necessary, these points should be discussed with the ArgoUML development team. <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><ul><li>License <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span></li><li class="gap" style="list-style-type:none">We must be allowed to develop against, release with, distribute, and use the dependency indefinitely without monetary or other compensation. <span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span></li><li class="gap" style="list-style-type:none"><p class="line891"><em>Rationale</em>: We have no money in the ArgoUML project, we don't want to have money in the ArgoUML project. We have no organization that can enter agreements and live up to them. We don't want to require our users to enter agreements to use ArgoUML. <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span></li><li class="gap">Java version <span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span></li><li class="gap" style="list-style-type:none">The dependency must have a policy that is compatible with the ArgoUML project policy on Java version requirements. <span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span></li><li class="gap" style="list-style-type:none"><p class="line891"><em>Rationale</em>: The ambition for ArgoUML is to be a working tool for as many people as possible. Java is still under development and there are nice features available in future releases. In ArgoUML we have a plan for how to handle this. It is to always support two major releases of Java (currently Java5 and Java6). We cannot have a dependency that restricts us in this aspect. <span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span></li><li class="gap">Distribution <span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span></li><li class="gap" style="list-style-type:none">We require the dependency to make it possible for us to take the distribution, enter it in our repository and write rules to automate the use of the dependency while developing, releasing and running ArgoUML. This automated use must be able to run without relying on access to some server and without user intervention. <span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span></li><li class="gap" style="list-style-type:none">The API documentation of the dependency (assumed to be Javadoc) we can use from some web site belonging to that dependency. <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span></li><li class="gap" style="list-style-type:none"><p class="line891"><em>Rationale</em>: In the ArgoUML project we want to make it as easy as possible for our users to install ArgoUML. We also want to make it as easy as possible for our developers to get their development environment working and for the release manager to prepare the releases. <span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span></li><li class="gap">Road map <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span></li><li class="gap" style="list-style-type:none">The project developing the dependency must have a plan that fits the ArgoUML plan for the future. <span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span></li><li class="gap" style="list-style-type:none"><p class="line891"><em>Rationale</em>: If a dependency will soon go somewhere else i.e. stop doing what we require or stop supporting what we require, then we will soon have troubles with that dependency. <span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span></li><li class="gap">Working project <span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span></li><li class="gap" style="list-style-type:none">The project that develops the dependency should be a working project. Check that there is some person responsible for it, preferably with a team or organization backing him. Check that there is a plan for upcoming releases. Check that there is a way to report bugs and enhancement requests. <span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span></li><li class="gap" style="list-style-type:none"><p class="line891"><em>Rationale</em>: We don't want to rely on a dependency where there is no chance of ever getting a bug that we encounter fixed. We are also part of an ever-evolving world. Soon we want the tool to do more for us. We should then be able to wish that and eventually get that included. <span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span></li></ul><p class="line874">Notice that we should not and don't need to do this in a passive way. We should explain to the dependency team what we want and why. Especially for dependency that we have already in ArgoUML but also for dependencies that we consider taking in. This is to increase the likelihood that they will have us in mind when planning and evolving. <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><p class="line874">Here are the steps to go through and the recommended order once the decision is taken to use the dependency in ArgoUML: <span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><ul><li>Documentation <span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span></li><li class="gap" style="list-style-type:none">Describe in the wiki for the appropriate subsystem what part of the problem that the dependency solves and how it is used in ArgoUML. <span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span></li><li class="gap">Javadoc <span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span></li><li class="gap" style="list-style-type:none">Enter the package list file in a special directory under argouml/lib/javadocs. Update the list of links used when building the Javadoc. One place in default.properties, One or two places in build.xml (targets javadocs and javadocs-api). <span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span></li><li class="gap" style="list-style-type:none">Test by referencing some class from the dependency, building the Javadoc, and check that the link is working. <span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span></li><li class="gap">Repository <span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span></li><li class="gap" style="list-style-type:none">Assuming that the dependency is distributed in a set of jar files, add the jar files to the lib directory in a versioned way together with the license file. Use filenames like: dependency-version.jar, and dependency.LICENSE.txt. <span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span></li><li class="gap" style="list-style-type:none">The plan is to have each subsystem in their own directory. If the dependency in question belongs to a subsystem that is moved to a separate directory you should put it in the lib directory for that subsystem. See how the model-mdr dependencies are handled. <span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span></li><li class="gap">Building <span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span></li><li class="gap" style="list-style-type:none"><p class="line862">Assuming that the dependency is distributed in a set of jar files, add the jar files to the list of files that are to be included when building ArgoUML. The files are to be copied to the argouml/build directory when performing the "package"-target. One place in default.properties, Four places in build.xml (targets init (tree places), prerequisites, package (two places), new target check.dependency), and one possible place in <strong>AboutBox.java</strong> (Constructor). Notice especially that build.xml shall not contain any version information. Notice also that the text in <strong>AboutBox.java</strong> shall not contain anything that needs to be localized but just the dependency name, reference and possibly version. <span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span></li><li class="gap" style="list-style-type:none">This will take care of running tests, building releases, and building for the purpose of developing modules. <span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span></li><li class="gap" style="list-style-type:none">Check by having some class from the dependency loaded immediately when starting ArgoUML and start using build run. <span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span></li></ul><p class="line862">See Section <a href="How_to_relate_issues_to_problems_in_dependencies.html">How to relate issues to problems in dependencies</a> for a discussion on how to handle bugs found in a dependency and updates of the version of a dependency. <span class="anchor" id="line-66"></span><hr /><p class="line874"> <span class="anchor" id="line-67"></span><a href="CategoryFromCookbook.html">CategoryFromCookbook</a> <span class="anchor" id="line-68"></span><span class="anchor" id="bottom"></span></div><p id="pageinfo" class="info" lang="en" dir="ltr">When Considering Dependencies  (last edited 2009-11-07 23:28:56 -0700 by <span title="Linus Tolke @ localhost[127.0.0.1]"><a href="linus.html" title="Linus Tolke @ localhost[127.0.0.1]">linus</a></span>)</p>

